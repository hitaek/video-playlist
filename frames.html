<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Frames</title>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }
    .frame {
        box-sizing: border-box;
        border: 1px solid #ccc;
        overflow: hidden;
        float: left;
    }
    .frame iframe {
        width: 100%;
        height: 100%;
        border: none;
    }
    #addFrameBtn {
        position: fixed;
        top: 20px;
        right: 20px;
        font-size: 24px;
        cursor: pointer;
    }
    #urlListInput {
        width: calc(100% - 40px);
        padding: 5px;
        font-size: 16px;
        border: 1px solid #ccc;
        margin: 20px;
    }
</style>
</head>
<body>
<input type="text" id="urlListInput" placeholder="Enter up to 9 URLs separated by commas">
<div id="container">
    <div class="frame" id="frame1">
        <input type="text" class="urlInput" placeholder="Enter URL">
        <br>
        <iframe class="frameContent" src="" frameborder="0"></iframe>
    </div>
    <div class="frame" id="frame2">
        <input type="text" class="urlInput" placeholder="Enter URL">
        <br>
        <iframe class="frameContent" src="" frameborder="0"></iframe>
    </div>
    <div class="frame" id="frame3">
        <input type="text" class="urlInput" placeholder="Enter URL">
        <br>
        <iframe class="frameContent" src="" frameborder="0"></iframe>
    </div>
</div>
<div id="addFrameBtn" onclick="addFrame()">+</div>

<script>
    function loadURL(input) {
        const frame = input.parentNode.querySelector('.frameContent');
        let url = input.value;
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
            url = 'https://' + url;
        }
        frame.src = url;
    }

    document.querySelectorAll('.urlInput').forEach(input => {
        input.addEventListener('blur', function() {
            loadURL(this);
        });

        input.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                loadURL(this);
            }
        });
    });

    function addFrame() {
        const container = document.getElementById('container');
        const frameCount = container.querySelectorAll('.frame').length;
        if (frameCount < 9) { // Maximum 9 frames
            const newFrame = document.createElement('div');
            newFrame.classList.add('frame');
            newFrame.innerHTML = `
                <input type="text" class="urlInput" placeholder="Enter URL">
                <br>
                <iframe class="frameContent" src="" frameborder="0"></iframe>
            `;
            container.appendChild(newFrame);
            updateFrameWidths();
        } else {
            alert('Maximum number of frames reached!');
        }
    }

    function updateFrameWidths() {
        const frames = document.querySelectorAll('.frame');
        const frameCount = frames.length;
        const containerWidth = document.getElementById('container').offsetWidth;
        const frameWidth = containerWidth / Math.ceil(Math.sqrt(frameCount));
        frames.forEach(frame => {
            frame.style.width = frameWidth + 'px';
        });
    }

    window.addEventListener('resize', updateFrameWidths);
    updateFrameWidths();

    document.getElementById('urlListInput').addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            loadURLs();
        }
    });

    function loadURLs() {
        const urlListInput = document.getElementById('urlListInput');
        const urls = urlListInput.value.split(',').slice(0, 9); // Take up to 9 URLs
        const frames = document.querySelectorAll('.frame');
        urls.forEach((url, index) => {
            const frameContent = frames[index].querySelector('.frameContent');
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }
            frameContent.src = url.trim();
        });
        // Clear remaining frames if fewer than 9 URLs were provided
        for (let i = urls.length; i < frames.length; i++) {
            frames[i].querySelector('.frameContent').src = '';
        }
        updateFrameWidths(); // Adjust frame widths after loading URLs
    }
</script>
</body>
</html>